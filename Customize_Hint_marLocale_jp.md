# 起動時に使用する言語の決定方法

国際化対応を行うソフトウェアでは、デフォルト言語（初回起動時の言語）の選択に特に注意を払う必要があります。以下の方法を検討してください：

1.    OSの言語設定に従う: ソフトウェアはOSの設定を読み取り、同じ言語をデフォルト言語として使用します。
2.    開発者の地域に基づく: 開発者のロケールと同じ国のOSを使用している場合は、その言語をデフォルトとします。それ以外の場合は英語を使用します。
3.    英語をデフォルトとする: 初期設定として英語をデフォルト言語とします。これは最も広く理解されている言語であるため、広い範囲のユーザーに対応できます。


私がよく利用する方法は、2番目の「開発者の地域に基づく」選択です。たとえば、日本語OSを使用している場合は日本語を、それ以外の場合は英語をデフォルト言語として設定します。これをコードで実装する例は以下の通りです：
```cpp
if (isJapaneseOS()) {
	setLanguage("ja");
} else {
	setLanguage("en");
}
```
本プログラムには、isJapaneseOS() と isEnglishOS()が用意されています。必要に応じて、isSpanishOS(), isFrenchOS() といった関数を追加してください。以下に関数追加の際の参考情報を記します。

## Windowsでの言語判定方法

WindowsではLANGIDを使用してOSの言語を判定します。例えば、1041は日本語、1033は英語（アメリカ）を表します。各言語のLANGIDについての詳細は以下のリンクで確認できます：

-    [Language Identifier Constants and Strings](https://winprotocoldoc.blob.core.windows.net/productionwindowsarchives/MS-LCID/%5bMS-LCID%5d-210407.pdf)

## Linuxでの言語判定方法

LinuxではPOSIXロケールを利用してOSの言語を判定します。ロケール文字列はja_JPやen_USといった形式で表され、言語と地域を示します。これにより、適切な言語環境を設定することができます。

先程紹介したpdfには、ロケール文字列に関する情報も含まれています。